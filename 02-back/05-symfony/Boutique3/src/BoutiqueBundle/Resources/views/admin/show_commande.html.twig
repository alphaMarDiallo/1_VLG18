{% extends 'layout.html.twig' %}

{% block title %}Gestion des commandes{% endblock %}

{% block content %}

<div class="row">
        {#{% for message in app.session.flashbag.get('success') %}#}
            {#<span class="alert alert-success">{{ message }}</span>#}
        {#{% endfor %}#}
    </div>

    <div class="row">
        <div class="col-12">
            <p style="text-align: right;"><strong>Nombre de commande(s) : {{ commandes | length }} </strong></p>
        </div>

        <table class="table table-striped table-hover table-dark">
            <tr>
                <th>N° de commande</th>
                <th>id du membre</th>
                <th>Montant de la commande</th>
                <th>Date d'achat</th>
                <th>Etat de la commande</th>
                 <th colspan="3">Action</th>
            </tr>
            <tbody>
            {% for commande in commandes %}
                <tr>
                    <td> {{commande.idCommande}} </td>
                    <td> {{commande.idMembre}} </td>
                    <td> {{commande.montant | number_format(2, ',', '')}} € </td>
                    <td> {{commande.dateEnregistrement | date("d/m/Y - h: i:s")}} </td>
                     {# {% if commande.etat == 1 %} 
                     <td class="text-info">En préparation</td>
                     {% elseif  commande.etat == 2 %}
                      <td class="text-warning">En cours de livraison</td>
                     {% else %}
                      <td class="text-success">Livré</td>
                     {% endif %} #}
            {% endfor %}
                    <td>
                        {# <a target="_blank" href="{{path('show_commande', {'id' : commande.idCommande})}}"> #}
                            <i class="text-info fas fa-eye"></i>
                        </a>
                    </td>
                </tr>
    
            </tbody>
        </table>
    </div>

{% endblock %}